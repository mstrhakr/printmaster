# PrintMaster Agent Configuration Example
# Copy this file to config.toml and customize for your environment

# Asset ID regex pattern (customize for your asset tag format)
asset_id_regex = "\\b\\d{5}\\b"

# Number of concurrent SNMP queries (adjust based on network capacity)
discovery_concurrency = 50

# Enable Epson remote-mode commands (experimental richer metrics)
epson_remote_mode_enabled = false

[snmp]
  # Default SNMP community string (change for security)
  community = "public"
  
  # SNMP timeout in milliseconds
  timeout_ms = 2000
  
  # Number of retries for failed SNMP queries
  retries = 1

[server]
  # Enable server upload mode (set to true when using with PrintMaster Server)
  enabled = true
  
  # PrintMaster Server URL (e.g., "http://printmaster.example.com:9090")
  url = "https://localhost:9443"
  
  # Unique agent identifier (auto-generated if blank)
  agent_name = "Debug Test Agent"
  
  # Path to server CA certificate (optional, for self-signed certs)
  ca_path = ""
  
  # How often to upload discovery data to server (seconds)
  upload_interval_seconds = 300
  
  # How often to send heartbeat to server (seconds)
  heartbeat_interval_seconds = 60
  
  # Authentication token (if server requires it)
  token = ""

[auto_update]
  # inherit  -> follow fleet policy when connected (default)
  # local    -> always use the local_policy block below
  # disabled -> never auto-update unless triggered manually
  mode = "inherit"

  [auto_update.local_policy]
    # Number of days between update checks when falling back to local policy
    update_check_days = 7
    version_pin_strategy = "minor"
    allow_major_upgrade = false
    target_version = ""
    collect_telemetry = true

    [auto_update.local_policy.maintenance_window]
      enabled = false
      timezone = ""
      start_hour = 0
      start_min = 0
      end_hour = 0
      end_min = 0
      days_of_week = []

    [auto_update.local_policy.rollout_control]
      staggered = true
      max_concurrent = 0
      batch_size = 0
      delay_between_waves = 0
      jitter_seconds = 0
      emergency_abort = false

[database]
  # SQLite database path (blank = use default location)
  path = 'C:\temp\printmaster\agent\test_db\'

[logging]
  # Log level: debug, info, warn, error
  level = "info"

[web]
  # HTTP port for web UI
  http_port = 8080
  
  # HTTPS port (if TLS enabled)
  https_port = 8443
  
  # Enable TLS/HTTPS
  enable_tls = false
